{% extends "base.html" %}
  {% block title %}
  Home
  {% endblock title %}
{% block content %}
<link rel ="stylesheet" type = "text/css" href ="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<script src = "https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
   
    <h3 class="text-center alert alert-danger">Show Student Information</h3>

    <div class="container">
     <div class="row ">
         <div class="col-10 mx-auto">
          <!-- <button class="btn btn-primary mb-3">clear</button> -->
          <a href="{%url 'clear'  %}"> <button type="button" class="btn btn-primary"><i class="fa-solid fa-trash"></i> Clear All</button></a>
 
             <table class=" table table-success table-striped-columns" id="myTable">
                 <thead>
                   <tr>
                     <th scope="col">S.N</th>
                     <th scope="col">ID</th>
                     <th scope="col">Full Name</th>
                     <th scope="col">Age</th>
                     <th scope="col">Email</th>
                     <th scope="col">Message</th>
                     <th scope="col">Images</th>
                     <th scope="col">Action</th>
                   </tr>
                 </thead>
                 <tbody>
                  {% for i in data %}
                    
                   <tr>
                     <th scope="row">{{forloop.counter}}</th>
                     <th scope="row">{{i.id}}</th>
                     <td>{{i.name|upper}}</td>
                     <td>{{i.age}}</td>
                     <td>{{i.email}}</td>
                     <td>{{i.message|truncatewords:2}}</td>
                     <td>
                      {% if i.image %}
                        <img src="{{i.image.url}}" height="200px"  width="200px">
                      {% endif %}
                      
                      </td>
                     <td>
                      <a href="{%url 'edit' i.id %}"><button type="button" class="btn btn-outline-success"><i class="fa-solid fa-pen-to-square"></i> Edit</button></a>
                      <a href="{%url 'delete_data' i.id %}"> <button type="button" class="btn btn-outline-danger"><i class="fa-solid fa-trash"></i> Delete</button></a>
                     </td>
                   </tr>
                  {% endfor %}
                 
                  
                 </tbody>
               </table>
               <!-- pipeoperater -->
               {% if data|length < 1 %}
               <h1 class="text-center alert alert-danger">Oops! Nothing here</h1>
               {% endif %}
           
         </div>
     </div>
    </div>
  <script>   	
    let table = new DataTable('#myTable');
  </script>
 
{% endblock content %}



   

